### 什么是事务？

事务是逻辑上的一组操作，要么都执行，要么都不执行。

### 事物的四大特性(ACID)介绍一下?

1. **原子性（**atomicity**）：** 事务是最小的执行单位，不允许分割。事务的原子性确保动作要么全部完成，要么完全不起作用；
2. **一致性（**consistency**）：** 执行事务前后，数据保持一致，多个事务对同一个数据读取的结果是相同的；
3. **隔离性（**isolation**）：** 并发访问数据库时，一个用户的事务不被其他事务所干扰，各并发事务之间数据库是独立的；
4. **持久性（**durability**）：** 一个事务被提交之后。它对数据库中数据的改变是持久的，即使数据库发生故障也不应该对其有任何影响。
### 并发事务带来哪些问题?

[http://mp.weixin.qq.com/s?__biz=MjM5ODYxMDA5OQ==&mid=2651961498&idx=1&sn=058097f882ff9d32f5cdf7922644d083&chksm=bd2d0d468a5a845026b7d2c211330a6bc7e9ebdaa92f8060265f60ca0b166f8957cbf3b0182c&mpshare=1&scene=1&srcid=0419AJnC6SWiblCvYSB4auQa&sharer_sharetime=1587260967472&sharer_shareid=df54f53a3e6a154741c19aa7c43293bf#rd](http://mp.weixin.qq.com/s?__biz=MjM5ODYxMDA5OQ==&mid=2651961498&idx=1&sn=058097f882ff9d32f5cdf7922644d083&chksm=bd2d0d468a5a845026b7d2c211330a6bc7e9ebdaa92f8060265f60ca0b166f8957cbf3b0182c&mpshare=1&scene=1&srcid=0419AJnC6SWiblCvYSB4auQa&sharer_sharetime=1587260967472&sharer_shareid=df54f53a3e6a154741c19aa7c43293bf#rd)

**脏读（Dirty read）:** 

读到了其它事务未提交的数据。

**不可重复读（Unrepeatableread）:**

一个事务读取两次是不同结果。

 指在一个事务内多次读同一数据。在这个事务还没有结束时，另一个事务也访问该数据。那么，在第一个事务中的两次读数据之间，由于第二个事务的修改导致第一个事务两次读取的数据可能不太一样。这就发生了在一个事务内两次读到的数据是不一样的情况，因此称为不可重复读。 

 

**幻读（Phantom read）:** 

已提交的事务B对事务A产生影响。

幻读与不可重复读类似。它发生在一个事务（T1）读取了几行数据，接着另一个并发事务（T2）插入了一些数据时。在随后的查询中，第一个事务（T1）就会发现多了一些原本不存在的记录，就好像发生了幻觉一样，所以称为幻读。

### **不可重复度和幻读区别：**

不可重复读的重点是修改，幻读的重点在于新增或者删除。

 

**例1：**（同样的条件, 你读取过的数据, 再次读取出来发现值不一样了 ）：事务1中的A先生读取自己的工资为     1000的操作还没完成，事务2中的B先生就修改了A的工资为2000，导        致A再读自己的工资时工资变为  2000；这就是不可重复读。

 

**例2：**（同样的条件, 第1次和第2次读出来的记录数不一样 ）：假某工资单表中工资大于3000的有4人，事务1读取了所有工资大于3000的人，共查到4条记录，这时事务2 又插入了一条工资大于3000的记录，事务1再次读取时查到的记录就变为了5条，这样就导致了幻读。

### 务隔离级别有哪些?MySQL的默认隔离级别是?

**READ-UNCOMMITTED(未提交读)：** 事务中的修改，即使没有提交，对其他事务也都是可见的，**可能会导致脏读、幻读或不可重复读**。

 

**READ-COMMITTED(提交读)：** 一个事务从开始到提交之前，所做的任何修改对其它事务对其它修改都是不可见的，**可以阻止脏读，但是幻读或不可重复读仍有可能发生**。

 

**REPEATABLE-READ(可重复读，默认级别)：**保证了同一事务读取同样记录的结果是一致的。**可以阻止脏读和不可重复读，但幻读仍有可能发生**。

 

**SERIALIZABLE(可串行化)：**强制事务串行执行。它会在读取的每一行数据上都加上锁，所以导致大量的超时和锁争用的问题。**该级别可以防止脏读、不可重复读以及幻读**。




